موضوع: لینوکس، سیستم‌عاملی حامی محیط زیست
ارايه دهنده: بیژن ابراهیمی
این ارايه برگرفته شده از مقاله زیر بوده است: http://linuxaria.com/article/linux-per-un-desktop-verde?lang=en

فهرست مطالب
	* مقدمه
	* معرفی ابزار powertop
	* نحوه کار با ابزار PowerTop
	* دریافت آخرین نسخه ابزار powertop


مقدمه:
کرنل لینوکس از زمانسنج دوره‌ای برای هر (هسته) پردازنده استفاده میکند که در آن به اعمالی همچون حسابرسی پردازش‌ها و غیره می‌پردازد. در کرنل‌های قدیمی این عمل با فرکانس ۱۰۰ هرتز (هر ثانیه ۱۰۰بار) انجام می‌پذیرفت! در کرنل‌های جدیدتر ۲۵۰ هرتز! اما نقطه ضعف این طراحی این بود که این «تیک زمانسنج»، چه در زمان مشغول بودن پردازنده و چه در زمان بیکار بودن (idle) بودن پردازنده رخ می‌داد که در عمل مصرف انرژی را به طرز محسوسی افزایش می‌داد. 

قابلیت «وضعیت بیکار فاقد تیک» (the tickless idle) در کرنل‌های جدید این امکان را مهیا ساخت تا پردازنده برای بازه زمانی طولانی‌تری بدون بیدار شدن توسط «تیک» های دوره‌ای در حالت بیکار باقی بماند و در نتیجه صرفه‌جویی در مصرف انرژی به طرز محسوسی افزایش یابد. برای این منظور کرنل شما باید با گزینه CONFIG_NO_HZ کامپایل شده باشد. برای اطلاع از فعال بودن این قابلیت دستور زیر را در ترمینال خود اجرا کنید (y به معنی فعال بودن و n به معنی غیرفعال بودن این قابلیت خواهد بود):
$ cat /boot/config-$(uname -r) | grep CONFIG_NO_HZ

معرفی ابزار PowerTop:
ابزار powertop این امکان را می‌دهد تا پردازش‌هایی که مصرف انرژی سیستم لینوکسی شما را به طرز نامتعارفی افزایش می‌دهند را شناسایی و برای رفع آنها اقدام کنید. به عنوان مثال پردازش‌هایی که بدون دلیل خاصی پردازنده را از حالت بیکار خارج کرده و موجب افزایش مصرف انرژی می‌شوند این قبیل پردازش‌ها هستند و رفع آنها موجب افزایش مدت زمان باطری دستگاه شما خواهد شد.

نحوه کار با ابزار PowerTop:
برای اجرای powertop شما نیاز به دسترسی کاربر ریشه خواهید داشت. پس از اجرا، این ابزار به مدت ۵ ثانیه به فعالیت‌های پروسه‌ها گوش کرده و لیست زیر را پس از آن نمایش می‌دهد که در زیر یک‌به‌بک آنها را شرح خواهیم داد. (برای مشاهده فایل تصویری به به آدرس cdn.linuxaria.com/wp-content/uploads/2010/09/powertop1.png مراجعه نمائید)

[اطلاعات زیر تنها در صورت اجرا بر روی لپ‌تاپ قابل مشاهده خواهد بود]
-پارامتر‌های c0 تا c4
وضعیت‌های مختلف پردازنده را نشان می‌دهد. پردازنده در وضعیت c0 عملا در حال اجرای دستورات بوده و در باقی وضعیت‌ها در حالت بیکار قرار میگیرد، ولی تنها در وضعیت c3 و c4 است که کاهش مصرف انرژی رخ‌میدهد. در شکل فوق، مشاهده میکنید که پردازنده بیشتر زمان خود را (۵۷ درصد) در وضعیت c2 و مجموعا حدود ۳۸ درصد زمان را در وضعیت بیکار همراه با کاهش مصرف انرژی سپری می‌کند.

-پارامتر wakeups per second
تعداد دفعاتی که پردازنده در یک ثانیه از وضعیت idle خارج می‌شود را مشخص میکند. در شکل فوق این مقدار ۱۹۳ بار در ثانیه می‌باشد که با مقایسه با میزان ۳ بار در ثانیه برای یک سیستم در حالت idle با دسکتاپ گنوم شل مقدار بسیار زیادی است! پس پردازشی بیش از حد مجاز پردازنده را از حالت idle خارج می‌کند. (مشکلی جود دارد)

-پارامتر power usage
میزان مصرف انرژی (وات) سیستم و زمان باقی‌مانده تا خالی شدن باطری دستگاه را مشخص می‌کند

[اطلاعان زیر در تمامی سیستم‌ها اعم از لپ‌تاپ و کامپیوتر شخصی قابل مشاهده خواهد بود ]

- لیست top causes for wakeups
در این لیست، بیشترین پردازش‌هایی که موجب بیدار شدن پردازنده از حالت idle می‌شود را نمایش می‌دهد. به عنوان مثال وقفه i8042 مربوط به پورت PS/2 و همچنین وقفه ipw2200 مرتبط با درایور کارت شبکه وایرلس می‌باشد که بدون دلیل موجهی (مثلا بهینه نبودن درایور) پردازنده را از حالت بیکار بیدار می‌کنند.

-پارامتر suggestion 
حال پس از شناسایی موارد بیدار کننده پردازنده، در این بخش راهنمائی هایی توسط برنامه برای رفع آنها ارائه می‌شود که با عمل به آنها تا حد بسیار زیادی مشکلات مربوطه را از بین برده و یا اثر آنها را کاهش می‌دهد. 

دریافت آخرین نسخه ابزار powertop
برای دریافت آخرین نسخه بهینه شده این ابزار (نسخه ۲) به وب‌سایت رسمی powertop مراجعه نمائید: https://01.org/powertop/